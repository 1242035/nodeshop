{"ts":1369168564878,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"// Require needed modules\nvar db = require('../data'),\nconfig = require('../config.json');\n\n// Export functions\nmodule.exports = {\n\n    // Get shop home page\n    getHome: function(req, res) {\n        \n        // Get categories for top nav\n        db.getTopCategories(function(err, categories) {\n            if (err) {console.log(err)}\n            \n            // Get featured products\n            db.getFeatured(function(err, featured) { \n                if (err) {console.log(err)}\n                \n                // Render home page\n                res.render('home', {\n                    store: config.store.name,\n                    title: config.store.tagline,\n                    logged: req.isAuthenticated(),\n                    user: req.user,\n                    cart: req.session.cart,\n                    categories: categories,\n                    featured: featured\n                });\n            });\n        });\n    },\n\n    // Get about page\n    getAbout: function(req, res) {\n        db.getTopCategories(function(err, categories) {\n            if (err) {console.log(err)}\n            res.render('about', {\n                store: config.store.name,\n                title: 'About',\n                logged: req.isAuthenticated(),\n                user: req.user,\n                cart: req.session.cart,\n                categories: categories,\n            });\n        });\n    },\n    \n    // Get contact page\n    getContact: function(req, res) {\n        db.getTopCategories(function(err, categories) {\n            if (err) {console.log(err)}\n            res.render('contact', {\n                store: config.store.name,\n                title: 'Contact',\n                logged: req.isAuthenticated(),\n                user: req.user,\n                cart: req.session.cart,\n                categories: categories,\n            });\n        });\n    }\n\n};"]],"start1":0,"start2":0,"length1":0,"length2":1863}]],"length":1863}
{"contributors":[],"silentsave":false,"ts":1369310759521,"patch":[[{"diffs":[[0,"        });\n"],[1,"    },\n    \n    // Get login modal\n    getTermsModal: function(req, res) {\n        res.render('modals/terms');\n"],[0,"    }\n\n};"]],"start1":1842,"start2":1842,"length1":21,"length2":132}]],"length":1974,"saved":false}
{"ts":1369310768161,"patch":[[{"diffs":[[0,"Get "],[-1,"login"],[1,"terms and conditions"],[0," mod"]],"start1":1873,"start2":1873,"length1":13,"length2":28}]],"length":1989,"saved":false}
