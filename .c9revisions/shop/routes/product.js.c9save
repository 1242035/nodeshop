{"ts":1369305738952,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"// Require needed modules\nvar db = require('../data');\nvar config = require(\"../config.json\");\n\n// Export functions\nmodule.exports = {\n\n    // Show a product from url request\n    getBySEO: function(req, res) {\n        \n        // Get categories for top nav\n        db.getTopCategories(function(err, categories) { \n            if (err) {console.log(err)}\n        \n            // Fing requested product\n            db.findProductBySEO(req.params.seo, function(err, product) { \n                if (err) {console.log(err)}\n            \n                // Render product view\n                res.render('product', {\n                    store: config.store.name,\n                    title: product.name,\n                    logged: req.isAuthenticated(),\n                    user: req.user,\n                    cart: req.session.cart,\n                    categories: categories,\n                    product: product\n                });\n            });\n        });\n    }\n};"]],"start1":0,"start2":0,"length1":0,"length2":966}]],"length":966}
